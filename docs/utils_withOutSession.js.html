<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: utils/withOutSession.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: utils/withOutSession.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import pkg from 'whatsapp-web.js';
import qrcode from 'qrcode-terminal';
import chalk from 'chalk';
import ora from 'ora';
import {SESSION_FILE_PATH} from '../app.js';

const {Client, LocalAuth} = pkg;

/**
 * Variable que guarda la instancia del cliente.
 *  @type {pkg.Client}
 */
let client;

/**
 * Variable que guarda el spinner.
 *  @type {ora}
 */
let spinner;

/**
 * Funcion que genera la sesion de Whatsapp.
 * @function withOutSession
 * @returns {void}
 */
export const withOutSession = () => {
	console.log('No tenemos session guardada');

	spinner = ora(`Generando ${chalk.blue('Codigo QR...\n')}`);
	spinner.start();

	client = new Client({
		authStrategy: new LocalAuth({dataPath: SESSION_FILE_PATH}),
		puppeteer: {
			headless: true,
		},
	});

	// creacion de codigo qr
	client.on('qr', (qr) => {
		qrcode.generate(qr, {small: true});
	});

	// hacer autentificacion
	client.on('authenticated', () => {
		console.log('Authenticado');
		spinner.stop();
	});

	// inicializar al cliente
	client.initialize();
};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#SESSION_FILE_PATH">SESSION_FILE_PATH</a></li><li><a href="global.html#client">client</a></li><li><a href="global.html#counter">counter</a></li><li><a href="global.html#groupNames">groupNames</a></li><li><a href="global.html#isAllEmpty">isAllEmpty</a></li><li><a href="global.html#isMedia">isMedia</a></li><li><a href="global.html#isMessage">isMessage</a></li><li><a href="global.html#media">media</a></li><li><a href="global.html#mediaPath">mediaPath</a></li><li><a href="global.html#message">message</a></li><li><a href="global.html#sendMedia">sendMedia</a></li><li><a href="global.html#sendMessage">sendMessage</a></li><li><a href="global.html#spinner">spinner</a></li><li><a href="global.html#withOutSession">withOutSession</a></li><li><a href="global.html#withSession">withSession</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Fri Jun 02 2023 12:10:37 GMT-0400 (hora de Venezuela)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
